<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµ ì°¸ì—¬ ìê²© ìê°€ì§„ë‹¨</title>
    <style>
        /* ìŠ¤íƒ€ì¼ ì •ì˜ (4+1 ë””ìì¸, ê¹”ë”í•œ ë¸”ë£¨ í†¤, ì¤‘ì•™ ì •ë ¬) */
        :root {
            --primary-blue: #303f9f; 
            --light-blue: #e8eaf6;
            --dark-blue: #1a237e;
            --success-green: #4caf50;
            --fail-red: #d32f2f;
            --gray-btn: #757575;
        }

        body {
            font-family: 'Malgun Gothic', 'ë§‘ì€ ê³ ë”•', sans-serif;
            background-color: #f5f7fa;
            color: #333;
            line-height: 1.6;
            padding: 20px;
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center; /* ìˆ˜ì§ ì¤‘ì•™ ì •ë ¬ */
            min-height: 100vh;
        }

        .container {
            background-color: #fff;
            padding: 40px;
            border-radius: 16px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            max-width: 600px;
            width: 100%;
        }

        h1 {
            color: var(--primary-blue);
            text-align: center;
            margin-bottom: 30px;
            font-size: 1.5rem;
            word-break: keep-all;
        }

        /* Progress Bar */
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 8px;
            margin-bottom: 30px;
            overflow: hidden;
        }

        .progress-bar {
            height: 10px;
            background-color: var(--success-green);
            width: 0%;
            transition: width 0.3s ease;
        }

        /* Question Card */
        .question-card {
            display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
            text-align: center;
            animation: fadeIn 0.4s ease-out;
        }

        .question-card.active {
            display: block;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .question-text {
            font-size: 1.25rem;
            font-weight: bold;
            color: var(--dark-blue);
            margin-bottom: 20px; /* ë…¸íŠ¸ ê³µê°„ í™•ë³´ë¥¼ ìœ„í•´ ì•½ê°„ ì¡°ì • */
            word-break: keep-all;
        }

        /* [ì¶”ê°€ëœ ìŠ¤íƒ€ì¼] ì°¸ê³  ë¬¸êµ¬ ìŠ¤íƒ€ì¼ */
        .note-text {
            font-size: 0.95rem;
            color: #555;
            background-color: var(--light-blue);
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 25px;
            display: inline-block;
            width: 90%;
            word-break: keep-all;
        }

        .btn-group {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }

        button {
            border: none;
            padding: 12px 30px;
            border-radius: 8px;
            font-size: 1rem;
            cursor: pointer;
            transition: all 0.2s;
            font-weight: bold;
        }

        .btn-yes {
            background-color: var(--primary-blue);
            color: white;
        }
        .btn-yes:hover { background-color: var(--dark-blue); }

        .btn-no {
            background-color: #9fa8da; /* ì—°í•œ íŒŒë‘ */
            color: var(--dark-blue);
        }
        .btn-no:hover { background-color: #7986cb; }

        /* Navigation (Previous Button) */
        .nav-area {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            border-top: 1px solid #eee;
            padding-top: 20px;
        }

        .btn-prev {
            background-color: transparent;
            color: var(--gray-btn);
            padding: 8px 16px;
            font-size: 0.9rem;
        }
        .btn-prev:hover {
            background-color: #f5f5f5;
            color: #333;
        }

        /* Result Styles */
        .result-box {
            padding: 30px;
            border-radius: 12px;
            text-align: center;
        }
        .result-success {
            background-color: #e8f5e9;
            border: 2px solid var(--success-green);
            color: #2e7d32;
        }
        .result-fail {
            background-color: #ffebee;
            border: 2px solid var(--fail-red);
            color: #c62828;
        }
        .result-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            font-weight: bold;
        }
        .result-desc {
            margin-bottom: 20px;
            font-size: 1rem;
        }
        .btn-restart {
            background-color: #555;
            color: white;
            margin-top: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <h1>ğŸ¢ í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµ ì°¸ì—¬ ìê²© ìê°€ì§„ë‹¨</h1>
    
    <div class="progress-container">
        <div id="progressBar" class="progress-bar"></div>
    </div>

    <div id="questionContainer">
        </div>

    <div class="nav-area">
        <button id="prevBtn" class="btn-prev" onclick="goBack()" style="display:none;">â—€ ì´ì „ ë‹¨ê³„</button>
    </div>
</div>

<script>
    // í”Œë¡œìš°ì°¨íŠ¸ì˜ ëª¨ë“  ì§ˆë¬¸ê³¼ ê²°ê³¼ ë°ì´í„°ë¥¼ ì •ì˜
    const flowData = {
        // [ì´ˆê¸° ë‹¨ê³„]
        q1: {
            text: "í•œì–‘ëŒ€ ì„œìš¸ìº í¼ìŠ¤ ì†Œì† í•™ìƒì´ì‹ ê°€ìš”?",
            note: "ì°¸ê³ : ERICA ì†Œì†ì€ ERICA í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•´ì•¼ í•©ë‹ˆë‹¤.",
            yes: "q2",
            no: "R_FAIL_CAMPUS"
        },
        q2: {
            text: "ì°¸ì—¬ í•™ê¸°ì— í•™ë¶€ ì¬í•™ìƒ ì‹ ë¶„ì¸ê°€ìš”?",
            note: "íœ´í•™ìƒ, ì¡¸ì—…ìƒ, ëŒ€í•™ì›ìƒì€ ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.",
            yes: "q3",
            no: "R_FAIL_STATUS" 
        },
        q3: {
            text: "í¸ì…ìƒì¸ê°€ìš”?",
            yes: "q5", // í¸ì…ìƒì´ë©´ -> 1í•™ê¸° ì´ìˆ˜ í™•ì¸
            no: "q4"   // ì•„ë‹ˆë©´ -> 4í•™ê¸° ì´ìˆ˜ í™•ì¸
        },
        
        // [ì´ìˆ˜ í•™ê¸° í™•ì¸ ë¶„ê¸°]
        q4: { // ì¼ë°˜ìƒ ê²½ë¡œ
            text: "4í•™ê¸° ì´ìƒ ì´ìˆ˜í•˜ì˜€ê±°ë‚˜ ì´ìˆ˜ ì˜ˆì •ì¸ê°€ìš”?",
            yes: "q6", // -> ì •ê·œí•™ê¸° ì—¬ë¶€ í™•ì¸ìœ¼ë¡œ í•©ë¥˜
            no: "R_FAIL_SEM_4"
        },
        q5: { // í¸ì…ìƒ ê²½ë¡œ
            text: "1í•™ê¸° ì´ìƒ ì´ìˆ˜í•˜ì˜€ê±°ë‚˜ ì´ìˆ˜ ì˜ˆì •ì¸ê°€ìš”?",
            yes: "q6", // -> ì •ê·œí•™ê¸° ì—¬ë¶€ í™•ì¸ìœ¼ë¡œ í•©ë¥˜
            no: "R_FAIL_SEM_1"
        },

        // [ì •ê·œí•™ê¸° vs ì´ˆê³¼í•™ê¸° ë¶„ê¸°ì ]
        q6: {
            text: "ì •ê·œí•™ê¸° ë‚´ ì°¸ì—¬ í•™ìƒì¸ê°€ìš”?",
            note: "ì •ê·œ ìˆ˜ì—…ì—°í•œ(ì‹ ì…ìƒ 8í•™ê¸°, í¸ì…ìƒ 4-6í•™ê¸°) / ì¶”ê°€í•™ê¸°ì— ì°¸ì—¬í•˜ëŠ” ê²½ìš° 'ì•„ë‹ˆì˜¤' ì„ íƒ",
            yes: "q7",  // ì •ê·œí•™ê¸° ê²½ë¡œ
            no: "q10" // ì´ˆê³¼í•™ê¸° ê²½ë¡œ
        },

        // ------------------------------------------------
        // [ê²½ë¡œ A: ì •ê·œí•™ê¸° ë‚´ ì°¸ì—¬ í•™ìƒ (YES)]
        // ------------------------------------------------
        q7: {
            text: "í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•œ ì  ìˆë‚˜ìš”?",
            yes: "q8",
            no: "R_SUCCESS_REG" // ì°¸ì—¬ ê°€ëŠ¥
        },
        q8: {
            text: "í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•œ ì  ìˆë‚˜ìš”?",
            yes: "R_FAIL_REG_ONCE", // ì •ê·œí•™ê¸° ì¬í•™ ì¤‘ 1íšŒë§Œ ê°€ëŠ¥
            no: "q9" // (ë‹¨ê¸°/4+1 í˜„ì¥ì‹¤ìŠµë§Œ ì°¸ì—¬)
        },
        q9: {
            text: "í˜„ì¥ì‹¤ìŠµìœ¼ë¡œ ì·¨ë“í•œ ì´ í•™ì ì´ 18í•™ì  ë¯¸ë§Œì¸ê°€ìš”? (4+1 í•™ì  ì œì™¸)",
            yes: "R_SUCCESS_REG", // ì°¸ì—¬ ê°€ëŠ¥
            no: "R_FAIL_CREDIT_18" // 18í•™ì  ì·¨ë“
        },

        // ------------------------------------------------
        // [ê²½ë¡œ B: ì´ˆê³¼í•™ê¸°/ì¶”ê°€í•™ê¸° í•™ìƒ (NO)]
        // ------------------------------------------------
        q10: {
            text: "í˜„ì¥ì‹¤ìŠµ ì°¸ì—¬ ì´ë ¥ì´ ìˆë‚˜ìš”? (ë‹¨ê¸°, ì¥ê¸° í¬í•¨)",
            yes: "q11",
            no: "q15" // ì´ë ¥ ì—†ìœ¼ë©´ ë°”ë¡œ ì¡¸ì—…ìš”ê±´ ì²´í¬
        },
        q11: {
            text: "ì¥ê¸° í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•œ ì  ìˆë‚˜ìš”? (í•™ê¸°ëŒ€ì²´, 4+1)",
            yes: "q12",
            no: "q14" // (ë‹¨ê¸°ë§Œ ì°¸ì—¬) -> í•™ì  ì²´í¬
        },
        q12: {
            text: "í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•œ ì  ìˆë‚˜ìš”?",
            yes: "q13",
            no: "q14" // (4+1ë§Œ ì°¸ì—¬) -> í•™ì  ì²´í¬
        },
        q13: {
            text: "ì´ˆê³¼í•™ê¸°ì— ì°¸ì—¬í•˜ì˜€ë‚˜ìš”?",
            yes: "R_FAIL_EXTRA_ONCE", // ì¶”ê°€í•™ê¸° ì¤‘ í•™ê¸°ëŒ€ì²´ ìµœëŒ€ 1íšŒ ì°¸ì—¬ ê°€ëŠ¥ -> ë¶ˆê°€
            no: "q14" // (ì •ê·œí•™ê¸°ì—ë§Œ ì°¸ì—¬) -> í•™ì  ì²´í¬
        },
        q14: {
            text: "í˜„ì¥ì‹¤ìŠµìœ¼ë¡œ ì·¨ë“í•œ ì´ í•™ì ì´ 18í•™ì  ë¯¸ë§Œì¸ê°€ìš”? (4+1 í•™ì  ì œì™¸)",
            yes: "q15", // -> **ì¡¸ì—…ìš”ê±´ í™•ì¸ìœ¼ë¡œ ì§„ì…**
            no: "R_FAIL_CREDIT_18"
        },

        // ------------------------------------------------
        // [ì¡¸ì—… ìš”ê±´ í™•ì¸ ë‹¨ê³„ - í•˜ë‹¨ë¶€]
        // ------------------------------------------------
        q15: {
            text: "ì¡¸ì—…ìš”ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•˜ì˜€ë‚˜ìš”?",
            yes: "q17", // ì¶©ì¡±í•¨ -> ìœ ì˜ˆ ì‹ ì²­ ì—¬ë¶€ í™•ì¸
            no: "q16"   // ë¯¸ì¶©ì¡± -> ìˆ˜ë£Œ ìƒíƒœ í™•ì¸
        },
        
        // ë¯¸ì¶©ì¡± ê²½ë¡œ
        q16: {
            text: "ë‹¤ë¥¸ ìš”ê±´ì„ ëª¨ë‘ ì¶©ì¡±í•˜ê³  ì¡¸ì—…ë…¼ë¬¸/ê³¼ì œë§Œ ë‚¨ì•„ ìˆë‚˜ìš”?",
            yes: "R_FAIL_COMPLETION", // ìˆ˜ë£ŒìëŠ” í•™ì  ì·¨ë“ ë¶ˆê°€
            no: "q18"  // ë³µìˆ˜ì „ê³µ ì—¬ë¶€ í™•ì¸
        },

        // ì¶©ì¡± ê²½ë¡œ (q17 ìˆ˜ì •ë¨)
        q17: {
            text: "í•™ì‚¬í•™ìœ„ì·¨ë“ìœ ì˜ˆ ì‹ ì²­í•˜ì˜€ê±°ë‚˜ ì‹ ì²­ ì˜ˆì •ì¸ê°€ìš”?",
            yes: "q29",
            no: "R_FAIL_GRAD" 
        },

        q18: {
            text: "ë³µìˆ˜ì „ê³µìƒì¸ê°€ìš”? (ì£¼ì „ê³µí•™ì  ëª¨ë‘ ì¶©ì¡±)",
            yes: "R_FAIL_DOUBLE_MAJOR", // [ì´ë¯¸ì§€ ë¹¨ê°„ ë°•ìŠ¤] ì°¸ì—¬ ë¶ˆê°€
            no: "R_SUCCESS_FINAL"       // [ì´ë¯¸ì§€ íŒŒë€ ë°•ìŠ¤] ì°¸ì—¬ ê°€ëŠ¥ (í™”ì‚´í‘œ ì—°ê²°)
        },

        q19: {
            text: "ìœ ì˜ˆ ì‹ ì²­ ì‹œ 'ìˆ˜ê°•ì‹ ì²­(ìœ )'ë¡œ ì‹ ì²­í•˜ì˜€ê±°ë‚˜ ì‹ ì²­ ì˜ˆì •ì¸ê°€ìš”?", 
            yes: "R_SUCCESS_FINAL",
            no: "R_FAIL_NO_CLASS"
        }
    };

    // ê²°ê³¼ ë°ì´í„° (R_ë¡œ ì‹œì‘)
    const results = {
        R_FAIL_CAMPUS: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "í•œì–‘ëŒ€ í•™ìƒì€ ì°¸ì—¬ ê°€ëŠ¥,<br>ERICA ì†Œì†ì€ ERICA í˜„ì¥ì‹¤ìŠµ ì°¸ì—¬", type: "fail" },
        R_FAIL_STATUS: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "í•™ë¶€ ì¬í•™ìƒ ì‹ ë¶„ìœ¼ë¡œë§Œ ì°¸ì—¬ ê°€ëŠ¥<br>(íœ´í•™ìƒ, ì¡¸ì—…ìƒ, ëŒ€í•™ì›ìƒ ë¶ˆê°€)", type: "fail" },
        R_FAIL_SEM_4: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "4í•™ê¸° ì´ìƒ ì´ìˆ˜(ì˜ˆì •)ìë§Œ ì°¸ì—¬ ê°€ëŠ¥", type: "fail" },
        R_FAIL_SEM_1: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "1í•™ê¸° ì´ìƒ ì´ìˆ˜(ì˜ˆì •)ìë§Œ ì°¸ì—¬ ê°€ëŠ¥", type: "fail" },
        R_FAIL_REG_ONCE: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "ì •ê·œí•™ê¸° ì¬í•™ ì¤‘ 1íšŒë§Œ ì°¸ì—¬ ê°€ëŠ¥", type: "fail" },
        R_FAIL_CREDIT_18: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "í˜„ì¥ì‹¤ìŠµìœ¼ë¡œ ìµœëŒ€ 18í•™ì ê¹Œì§€ ì´ìˆ˜ ê°€ëŠ¥", type: "fail" },
        R_FAIL_EXTRA_ONCE: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "ì¶”ê°€í•™ê¸° ì¤‘ í•™ê¸°ëŒ€ì²´ ìµœëŒ€ 1íšŒ ì°¸ì—¬ ê°€ëŠ¥", type: "fail" },
        R_FAIL_COMPLETION: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "ìˆ˜ë£ŒìëŠ” í•™ì  ì·¨ë“ ë¶ˆê°€", type: "fail" },
        R_FAIL_GRAD: { title: "ì¡¸ì—…(ì°¸ì—¬ ë¶ˆê°€)", desc: "ì¡¸ì—… ëŒ€ìƒìëŠ” ì°¸ì—¬í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.", type: "fail" },
        R_FAIL_NO_CLASS: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "ìˆ˜ê°•ì‹ ì²­(ë¬´) ì‹ ì²­ ì‹œ ì¶”ê°€ í•™ì  ì·¨ë“ ë¶ˆê°€", type: "fail" },
        R_FAIL_DOUBLE_MAJOR: { title: "ì°¸ì—¬ ë¶ˆê°€", desc: "ë³µìˆ˜ì „ê³µìƒ ì£¼ì „ê³µ í•™ì  ì¸ì • ë¶ˆê°€", type: "fail" },

        R_SUCCESS_REG: { title: "ì°¸ì—¬ ê°€ëŠ¥!", desc: "í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", type: "success" },
        R_SUCCESS_FINAL: { title: "ì°¸ì—¬ ê°€ëŠ¥!", desc: "í•™ê¸°ëŒ€ì²´ í˜„ì¥ì‹¤ìŠµì— ì°¸ì—¬í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.", type: "success" }
    };

    // ìƒíƒœ ê´€ë¦¬
    let historyStack = []; // ë°©ë¬¸í•œ ì§ˆë¬¸ ID ì €ì¥
    let currentId = 'q1';

    const questionContainer = document.getElementById('questionContainer');
    const prevBtn = document.getElementById('prevBtn');
    const progressBar = document.getElementById('progressBar');

    // ì´ˆê¸°í™”
    function init() {
        renderStep('q1');
    }

    // ë‹¨ê³„ ë Œë”ë§ í•¨ìˆ˜
    function renderStep(id) {
        currentId = id;
        questionContainer.innerHTML = ''; // ë¹„ìš°ê¸°
        
        // ì§„í–‰ë¥  ëŒ€ëµì  ê³„ì‚° (ì´ ì§ˆë¬¸ 19ê°œ ì¤‘ í˜„ì¬ ë²ˆí˜¸ë¡œ ì¶”ì •)
        // q_double_major ë“± ìˆ«ìê°€ ì•„ë‹Œ ID ì²˜ë¦¬
        let progressVal = 0;
        if (id === 'q_double_major') progressVal = 95;
        else {
            const qNum = parseInt(id.replace('q', '')) || 18;
            progressVal = Math.min((qNum / 19) * 100, 95);
        }
        
        if (id.startsWith('R_')) {
            // ê²°ê³¼ í™”ë©´
            renderResult(id);
            progressBar.style.width = '100%';
            prevBtn.style.display = 'block'; 
        } else {
            // ì§ˆë¬¸ í™”ë©´
            const data = flowData[id];
            
            const noteHtml = data.note ? `<div class="note-text">${data.note}</div>` : '';

            const card = document.createElement('div');
            card.className = 'question-card active';
            card.innerHTML = `
                <div class="question-text">Q. ${data.text}</div>
                ${noteHtml}
                <div class="btn-group">
                    <button class="btn-yes" onclick="nextStep('${data.yes}')">ì˜ˆ</button>
                    <button class="btn-no" onclick="nextStep('${data.no}')">ì•„ë‹ˆì˜¤</button>
                </div>
            `;
            questionContainer.appendChild(card);
            
            progressBar.style.width = `${progressVal}%`;
            
            // ì²« ì§ˆë¬¸ì´ë©´ ì´ì „ ë²„íŠ¼ ìˆ¨ê¹€
            if (historyStack.length === 0) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'block';
            }
        }
    }

    // ë‹¤ìŒ ë‹¨ê³„ ì´ë™
    function nextStep(nextId) {
        historyStack.push(currentId);
        renderStep(nextId);
    }

    // ì´ì „ ë‹¨ê³„ ì´ë™
    function goBack() {
        if (historyStack.length > 0) {
            const prevId = historyStack.pop();
            renderStep(prevId);
        }
    }

    // ê²°ê³¼ ë Œë”ë§
    function renderResult(resultId) {
        const res = results[resultId];
        const resClass = res.type === 'success' ? 'result-success' : 'result-fail';
        
        const div = document.createElement('div');
        div.className = `result-box ${resClass} question-card active`;
        div.innerHTML = `
            <div class="result-title">${res.title}</div>
            <div class="result-desc">${res.desc}</div>
            <button class="btn-restart" onclick="location.reload()">ì²˜ìŒë¶€í„° ë‹¤ì‹œí•˜ê¸°</button>
        `;
        questionContainer.appendChild(div);
    }

    // ì‹œì‘
    init();

</script>
</body>
</html>